---
layout: post
title: "Recursive Call - 1"
description: "하노이 탑으로 재귀 호출 이해해보기"
categories: Programming
tags: [programming, recursive, swift]
redirect_from:
   - /2018/01/03
---

> "천재가 많다니요? 헝가리의 천재는 오직 존 폰 노이만 한 사람뿐입니다. - 유진 위그너(1963, 노벨 물리학상 수상) "

# OverAll
프로그래밍을 하며 함수 내에서 자신의 함수를 다시 호출 하는 기법을 재귀적 호출(recursive call)이라고 명명한다.
일반적으로 확 와닿는 구조는 아니기 떄문에 이해하는데에 어려움이 있었고, 쉽게 포기하길 좋아하는 나로서 쉽게 포기하고 당장의 안식을 택하는 방법으로 이 문제를 해결했었다. 뭐 그때야 발등에 불이 떨어진건 아니였으니까

전공공부 되새김질을 하고 있는 지금에 와서는 이 문제를 왜 이렇게 쉽게 넘어 갔는지, 아쉬울 따름이다. 그리 난해한 개념도 아닌데 제대로 이해 했어도 내 연봉의 그레이드가 달라졌겠지

갓성우 님께서 강의에 언급하신 내용을 토대로 재귀적 호출을 나름대로 이해하고, 실습한 걸 서술하려 한다. 블로그의 첫글이라 긴장긴장

# Basic
기본적으로 재귀함수를 설명하는데에 있어 정리한 내용은 다음과 같다.

* 재귀 함수는 기존 함수의 재진입이다.
* 폰 노이만 아키텍쳐에 의한 컴퓨터 구조론에 입각하여, function은 실행시에 cpu가 ram에게서 가져가는 자산이다.
* 해당 function이 메모리에서 해제가 되지 않은 상태에서 또 복사본을 만들고 이를 cpu에서 사용한다.(이 부분은 사실과 다를 여지가 있다)
* 이 방식으로 생각해 본다면 최종적으로 실행 된 function 이 해제가 되면 그 전에 호출된 function이 해제가 되고, 반복하여 해제(리턴)이 되면 결과적으로 최초로 호출된 function이 마지막으로 리턴이 된다.

자 기본적인 구조는 이렇다.
재귀를 공부할 당시엔 이런 컴퓨터 구조론에 입각하여 재귀 호출을 생각하지 않고 이해하려 했다.
따라서 nested된 function의 호출만 생각을 하고 그 사이의 호출 순서, 관계 등을 단순 암기로만 공부를 했던 것이다. 이해가 뒷받침 되지 않고, 기본부터 시작되지 않은 지식은 금새 휘발되고 어렵다고 생각하여 도망가버린 것이다.

결국 재귀에서 가장 중요한 점은
* 호출 관계
* 호출 순서
이며, 해당 function이 누굴 호출 하며 호출 순서를 파악하여 문제를 해결하면 되는 것이다.
재귀 호출은 문제를 복잡하게 만드려고 일부러 만들어낸 개념이 아닌, 문제를 풀어내는데 좀 더 직관적이고 쉽게 만들어내기 위해 만들어 낸 개념이다.

하지만 나처럼 눈 앞에 불부터 끄자 방식으로 공부를 하게 되면 더 어려워지는 불상사가 발생하는 것이다.
회사 면접문제에 자주 출제하는 이유도 이런 것 때문일지도 모르겠네

아무튼 관계 같은 거야 명확하게 찾아낼 수 있지만 순서 같은경우는 피보나치 같은 경우면 몰라도 하노이 탑과 같이 
복잡한 문제까지 계산하기 어렵다.

# 피보나치 수열과 점화식

피보나치 수열의 원리는 n-1항과 n-2항의 결과 값을 더해 현재 항을 만드는 것이다.
점화식으로 나타낸다면 다음과 같다.

> f(n) = f(n-1) + f(n-2)
> f(0) = 1, f(1) = 1


이 처럼 결과에 대해 이전 넘버의 값에 의존하여 현재의 값을 규정할 수 있는걸 점화식, 또는 정식명칭인 재귀적 순열(recurrence sequence)라고 한다.

바로 고등학교 때 배웠던 점화식을 영미권에선 recurrence 로 표현한다는 사실을 알게 되고, 무릎을 탁쳤다.

컴퓨터는 결국 계산을 위한 머신이다. 반복적인 계산을 인간이 물리적으로 하기에 어렵고 또한 오차가 발생할 여지가 있으므로 컴퓨터에게 일임하는 것이다.

당연히 가장 중요한 것은 반복 로직이며, 이 반복이 어떤 식으로 이루어지느냐에 따라 그 결과물의 가능성이 무궁무진해 지는것이다. 

돌맹이 하나를 호수에 던졌을 때, 어떠한 각도와 어떠한 세기로 던졌는지에 따라 이후의 파동이 달라지듯이, 불을 맨 처음 점화할 때의 모습과 같듯이 recursion은 추후의 반복에 있어서 규칙을 정해주고 이를 더 확장하기 위해 존재한다.

따라서 이전 숫자와 이전 규칙에 얽매일 수 밖에 없다. 이런 점화식을 컴퓨터로 표현하기 위해 재귀적 용법이 존재하며, 수학의 재귀적 문제(점화식 문제)를 많이 풀어보게 되면 좀 더 로직에 대한 이해도가 높아질 것이라고 생각한다.



